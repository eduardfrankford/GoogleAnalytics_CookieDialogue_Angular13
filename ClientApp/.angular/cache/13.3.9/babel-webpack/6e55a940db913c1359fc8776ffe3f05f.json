{"ast":null,"code":"import { NavigationEnd } from '@angular/router';\nimport { GoogleAnalyticsService } from '../google-analaytics.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../google-analaytics.service\";\nimport * as i3 from \"../shared.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@ng-bootstrap/ng-bootstrap\";\n\nfunction CookieDialogComponent_ngb_toast_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ngb-toast\", 2);\n    i0.ɵɵlistener(\"hidden\", function CookieDialogComponent_ngb_toast_2_Template_ngb_toast_hidden_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return ctx_r1.deny();\n    });\n    i0.ɵɵelementStart(1, \"div\", 3)(2, \"h4\", 4);\n    i0.ɵɵtext(3, \"Cookies\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 5);\n    i0.ɵɵtext(5, \" Wir verwenden Cookies, um Ihnen ein optimales Webseiten-Erlebnis zu bieten. Durch die weitere Nutzung der Webseite stimmen Sie der Verwendung von Cookies zu. Sie k\\u00F6nnen mehr \\u00FCber die von uns verwendeten Cookies hier erfahren: \");\n    i0.ɵɵelementStart(6, \"a\", 6);\n    i0.ɵɵtext(7, \"Datenschutzerkl\\u00E4rung\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 7)(9, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function CookieDialogComponent_ngb_toast_2_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.deny();\n    });\n    i0.ɵɵtext(10, \" Ablehnen \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function CookieDialogComponent_ngb_toast_2_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.accept();\n    });\n    i0.ɵɵtext(12, \" Akzeptieren \");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"autohide\", false);\n  }\n}\n\nexport class CookieDialogComponent {\n  constructor(router, googleAnalyticsService, sharedService) {\n    this.router = router;\n    this.googleAnalyticsService = googleAnalyticsService;\n    this.sharedService = sharedService;\n    this.closePopup = false;\n  }\n\n  ngOnInit() {\n    if (this.getConsent()) {\n      this.accept();\n    } else {\n      //delete all cookies from this page\n      this.deny();\n      this.sharedService.acceptedConsent = false;\n      this.closePopup = false;\n    }\n  }\n\n  showCookieDialog() {\n    this.closePopup = false;\n  }\n\n  loadScript() {\n    let body = document.body;\n    let script = document.createElement('script');\n    script.innerHTML = '';\n    script.src = 'https://www.googletagmanager.com/gtag/js?id=ENTER TAG';\n    script.async = true;\n    script.defer = true;\n    body.appendChild(script);\n  }\n\n  deny() {\n    this.sharedService.acceptedConsent = false;\n    this.deleteCookie(\"_ga\");\n    this.deleteCookie(\"_ga_ZZ7HCE7DX4\");\n    this.setConsent(false);\n    this.closePopup = true;\n  }\n\n  accept() {\n    this.router.events.subscribe(event => {\n      if (event instanceof NavigationEnd) {\n        if (typeof gtag !== 'undefined') {\n          gtag('config', 'ENTER TAG', {\n            page_path: event.urlAfterRedirects\n          });\n        }\n      }\n    });\n    this.loadScript();\n    this.googleAnalyticsService.eventEmitter('FRANKFORD-IT.AT', 'User visited page', \"User visited page\", 'accept dialog', 1);\n    this.sharedService.acceptedConsent = true;\n    this.setConsent(true);\n    this.closePopup = true;\n  }\n\n  getConsent() {\n    return localStorage.getItem('cookies_consented') === 'true';\n  }\n\n  setConsent(value) {\n    localStorage.setItem('cookies_consented', value ? 'true' : 'false');\n  }\n\n  getCookie(name) {\n    let ca = document.cookie.split(';');\n    let caLen = ca.length;\n    let cookieName = `${name}=`;\n    let c;\n\n    for (let i = 0; i < caLen; i += 1) {\n      c = ca[i].replace(/^\\s+/g, '');\n\n      if (c.indexOf(cookieName) == 0) {\n        return c.substring(cookieName.length, c.length);\n      }\n    }\n\n    return '';\n  }\n\n  deleteCookie(name) {\n    this.setCookie(name, '', -1);\n  }\n\n  setCookie(name, value, expireDays, path = '') {\n    let d = new Date();\n    d.setTime(d.getTime() + expireDays * 24 * 60 * 60 * 1000);\n    let expires = `expires=${d.toUTCString()}`;\n    let cpath = path ? `; path=${path}` : '';\n    document.cookie = `${name}=${value}; ${expires}${cpath}`;\n  }\n\n}\n\nCookieDialogComponent.ɵfac = function CookieDialogComponent_Factory(t) {\n  return new (t || CookieDialogComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.GoogleAnalyticsService), i0.ɵɵdirectiveInject(i3.SharedService));\n};\n\nCookieDialogComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CookieDialogComponent,\n  selectors: [[\"app-cookie-dialog\"]],\n  features: [i0.ɵɵProvidersFeature([GoogleAnalyticsService])],\n  decls: 3,\n  vars: 1,\n  consts: [[1, \"container\"], [\"class\", \"fixed-bottom w-100 bg-dark text-white\", 3, \"autohide\", \"hidden\", 4, \"ngIf\"], [1, \"fixed-bottom\", \"w-100\", \"bg-dark\", \"text-white\", 3, \"autohide\", \"hidden\"], [1, \"text-start\", \"p-4\", \"d-flex\", \"flex-column\"], [1, \"veryLargeText\"], [1, \"smallerText\", \"text-start\"], [\"href\", \"/datenschutz\"], [1, \"text-end\"], [\"type\", \"button\", \"id\", \"btnDeny\", 1, \"btn\", \"btn-outline-light\", \"mr-3\", \"mx-2\", \"smallerText\", 3, \"click\"], [\"type\", \"button\", \"id\", \"btnAccept\", 1, \"btn\", \"btn-light\", \"mx-2\", \"smallerText\", 3, \"click\"]],\n  template: function CookieDialogComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\");\n      i0.ɵɵtemplate(2, CookieDialogComponent_ngb_toast_2_Template, 13, 1, \"ngb-toast\", 1);\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.closePopup);\n    }\n  },\n  directives: [i4.NgIf, i5.NgbToast],\n  styles: [\"body[_ngcontent-%COMP%] {\\n  background: #BCBCCC;\\n}\\n\\n.card[_ngcontent-%COMP%] {\\n  width: 400px;\\n  flex-direction: column;\\n  min-width: 0;\\n  color: #fff;\\n  word-wrap: break-word;\\n  background-color: #000;\\n  background-clip: border-box;\\n  border: 1px solid #000;\\n  border-radius: 6px;\\n  box-shadow: 0px 0px 5px 0px rgb(161, 163, 164);\\n}\\n\\n.cookie[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  text-decoration: none;\\n  color: #000;\\n  margin-top: 8px;\\n  font-size: 12px;\\n}\\n\\n.cookie[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  text-decoration: none;\\n  color: #fff;\\n  margin-top: 8px;\\n}\\n\\n.decline[_ngcontent-%COMP%] {\\n  cursor: pointer;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvb2tpZS1kaWFsb2cuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLFlBQVk7RUFDWixzQkFBc0I7RUFDdEIsWUFBWTtFQUNaLFdBQVc7RUFDWCxxQkFBcUI7RUFDckIsc0JBQXNCO0VBQ3RCLDJCQUEyQjtFQUMzQixzQkFBc0I7RUFDdEIsa0JBQWtCO0VBR2xCLDhDQUE4QztBQUNoRDs7QUFFQTtFQUNFLHFCQUFxQjtFQUNyQixXQUFXO0VBQ1gsZUFBZTtFQUNmLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxxQkFBcUI7RUFDckIsV0FBVztFQUNYLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxlQUFlO0FBQ2pCIiwiZmlsZSI6ImNvb2tpZS1kaWFsb2cuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImJvZHkge1xuICBiYWNrZ3JvdW5kOiAjQkNCQ0NDO1xufVxuXG4uY2FyZCB7XG4gIHdpZHRoOiA0MDBweDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgbWluLXdpZHRoOiAwO1xuICBjb2xvcjogI2ZmZjtcbiAgd29yZC13cmFwOiBicmVhay13b3JkO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwO1xuICBiYWNrZ3JvdW5kLWNsaXA6IGJvcmRlci1ib3g7XG4gIGJvcmRlcjogMXB4IHNvbGlkICMwMDA7XG4gIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAwcHggMHB4IDVweCAwcHggcmdiKDI0OSwgMjQ5LCAyNTApO1xuICAtbW96LWJveC1zaGFkb3c6IDBweCAwcHggNXB4IDBweCByZ2JhKDIxMiwgMTgyLCAyMTIsIDEpO1xuICBib3gtc2hhZG93OiAwcHggMHB4IDVweCAwcHggcmdiKDE2MSwgMTYzLCAxNjQpO1xufVxuXG4uY29va2llIGEge1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gIGNvbG9yOiAjMDAwO1xuICBtYXJnaW4tdG9wOiA4cHg7XG4gIGZvbnQtc2l6ZTogMTJweDtcbn1cblxuLmNvb2tpZSBhIHtcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICBjb2xvcjogI2ZmZjtcbiAgbWFyZ2luLXRvcDogOHB4O1xufVxuXG4uZGVjbGluZSB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cbiJdfQ== */\"]\n});","map":{"version":3,"sources":["/home/eduard/Desktop/cookie_dialogue_angular_dotnet_google_analytics/ClientApp/src/app/cookie-dialog/cookie-dialog.component.ts"],"names":["NavigationEnd","GoogleAnalyticsService","i0","i1","i2","i3","i4","i5","CookieDialogComponent_ngb_toast_2_Template","rf","ctx","_r2","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","CookieDialogComponent_ngb_toast_2_Template_ngb_toast_hidden_0_listener","ɵɵrestoreView","ctx_r1","ɵɵnextContext","deny","ɵɵtext","ɵɵelementEnd","CookieDialogComponent_ngb_toast_2_Template_button_click_9_listener","ctx_r3","CookieDialogComponent_ngb_toast_2_Template_button_click_11_listener","ctx_r4","accept","ɵɵproperty","CookieDialogComponent","constructor","router","googleAnalyticsService","sharedService","closePopup","ngOnInit","getConsent","acceptedConsent","showCookieDialog","loadScript","body","document","script","createElement","innerHTML","src","async","defer","appendChild","deleteCookie","setConsent","events","subscribe","event","gtag","page_path","urlAfterRedirects","eventEmitter","localStorage","getItem","value","setItem","getCookie","name","ca","cookie","split","caLen","length","cookieName","c","i","replace","indexOf","substring","setCookie","expireDays","path","d","Date","setTime","getTime","expires","toUTCString","cpath","ɵfac","CookieDialogComponent_Factory","t","ɵɵdirectiveInject","Router","SharedService","ɵcmp","ɵɵdefineComponent","type","selectors","features","ɵɵProvidersFeature","decls","vars","consts","template","CookieDialogComponent_Template","ɵɵtemplate","ɵɵadvance","directives","NgIf","NgbToast","styles"],"mappings":"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","sourcesContent":["import { NavigationEnd } from '@angular/router';\nimport { GoogleAnalyticsService } from '../google-analaytics.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../google-analaytics.service\";\nimport * as i3 from \"../shared.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@ng-bootstrap/ng-bootstrap\";\nfunction CookieDialogComponent_ngb_toast_2_Template(rf, ctx) { if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ngb-toast\", 2);\n    i0.ɵɵlistener(\"hidden\", function CookieDialogComponent_ngb_toast_2_Template_ngb_toast_hidden_0_listener() { i0.ɵɵrestoreView(_r2); const ctx_r1 = i0.ɵɵnextContext(); return ctx_r1.deny(); });\n    i0.ɵɵelementStart(1, \"div\", 3)(2, \"h4\", 4);\n    i0.ɵɵtext(3, \"Cookies\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 5);\n    i0.ɵɵtext(5, \" Wir verwenden Cookies, um Ihnen ein optimales Webseiten-Erlebnis zu bieten. Durch die weitere Nutzung der Webseite stimmen Sie der Verwendung von Cookies zu. Sie k\\u00F6nnen mehr \\u00FCber die von uns verwendeten Cookies hier erfahren: \");\n    i0.ɵɵelementStart(6, \"a\", 6);\n    i0.ɵɵtext(7, \"Datenschutzerkl\\u00E4rung\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 7)(9, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function CookieDialogComponent_ngb_toast_2_Template_button_click_9_listener() { i0.ɵɵrestoreView(_r2); const ctx_r3 = i0.ɵɵnextContext(); return ctx_r3.deny(); });\n    i0.ɵɵtext(10, \" Ablehnen \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function CookieDialogComponent_ngb_toast_2_Template_button_click_11_listener() { i0.ɵɵrestoreView(_r2); const ctx_r4 = i0.ɵɵnextContext(); return ctx_r4.accept(); });\n    i0.ɵɵtext(12, \" Akzeptieren \");\n    i0.ɵɵelementEnd()()()();\n} if (rf & 2) {\n    i0.ɵɵproperty(\"autohide\", false);\n} }\nexport class CookieDialogComponent {\n    constructor(router, googleAnalyticsService, sharedService) {\n        this.router = router;\n        this.googleAnalyticsService = googleAnalyticsService;\n        this.sharedService = sharedService;\n        this.closePopup = false;\n    }\n    ngOnInit() {\n        if (this.getConsent()) {\n            this.accept();\n        }\n        else {\n            //delete all cookies from this page\n            this.deny();\n            this.sharedService.acceptedConsent = false;\n            this.closePopup = false;\n        }\n    }\n    showCookieDialog() {\n        this.closePopup = false;\n    }\n    loadScript() {\n        let body = document.body;\n        let script = document.createElement('script');\n        script.innerHTML = '';\n        script.src = 'https://www.googletagmanager.com/gtag/js?id=ENTER TAG';\n        script.async = true;\n        script.defer = true;\n        body.appendChild(script);\n    }\n    deny() {\n        this.sharedService.acceptedConsent = false;\n        this.deleteCookie(\"_ga\");\n        this.deleteCookie(\"_ga_ZZ7HCE7DX4\");\n        this.setConsent(false);\n        this.closePopup = true;\n    }\n    accept() {\n        this.router.events.subscribe(event => {\n            if (event instanceof NavigationEnd) {\n                if (typeof gtag !== 'undefined') {\n                    gtag('config', 'ENTER TAG', {\n                        page_path: event.urlAfterRedirects,\n                    });\n                }\n            }\n        });\n        this.loadScript();\n        this.googleAnalyticsService.eventEmitter('FRANKFORD-IT.AT', 'User visited page', \"User visited page\", 'accept dialog', 1);\n        this.sharedService.acceptedConsent = true;\n        this.setConsent(true);\n        this.closePopup = true;\n    }\n    getConsent() {\n        return localStorage.getItem('cookies_consented') === 'true';\n    }\n    setConsent(value) {\n        localStorage.setItem('cookies_consented', value ? 'true' : 'false');\n    }\n    getCookie(name) {\n        let ca = document.cookie.split(';');\n        let caLen = ca.length;\n        let cookieName = `${name}=`;\n        let c;\n        for (let i = 0; i < caLen; i += 1) {\n            c = ca[i].replace(/^\\s+/g, '');\n            if (c.indexOf(cookieName) == 0) {\n                return c.substring(cookieName.length, c.length);\n            }\n        }\n        return '';\n    }\n    deleteCookie(name) {\n        this.setCookie(name, '', -1);\n    }\n    setCookie(name, value, expireDays, path = '') {\n        let d = new Date();\n        d.setTime(d.getTime() + expireDays * 24 * 60 * 60 * 1000);\n        let expires = `expires=${d.toUTCString()}`;\n        let cpath = path ? `; path=${path}` : '';\n        document.cookie = `${name}=${value}; ${expires}${cpath}`;\n    }\n}\nCookieDialogComponent.ɵfac = function CookieDialogComponent_Factory(t) { return new (t || CookieDialogComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.GoogleAnalyticsService), i0.ɵɵdirectiveInject(i3.SharedService)); };\nCookieDialogComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: CookieDialogComponent, selectors: [[\"app-cookie-dialog\"]], features: [i0.ɵɵProvidersFeature([GoogleAnalyticsService])], decls: 3, vars: 1, consts: [[1, \"container\"], [\"class\", \"fixed-bottom w-100 bg-dark text-white\", 3, \"autohide\", \"hidden\", 4, \"ngIf\"], [1, \"fixed-bottom\", \"w-100\", \"bg-dark\", \"text-white\", 3, \"autohide\", \"hidden\"], [1, \"text-start\", \"p-4\", \"d-flex\", \"flex-column\"], [1, \"veryLargeText\"], [1, \"smallerText\", \"text-start\"], [\"href\", \"/datenschutz\"], [1, \"text-end\"], [\"type\", \"button\", \"id\", \"btnDeny\", 1, \"btn\", \"btn-outline-light\", \"mr-3\", \"mx-2\", \"smallerText\", 3, \"click\"], [\"type\", \"button\", \"id\", \"btnAccept\", 1, \"btn\", \"btn-light\", \"mx-2\", \"smallerText\", 3, \"click\"]], template: function CookieDialogComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\");\n        i0.ɵɵtemplate(2, CookieDialogComponent_ngb_toast_2_Template, 13, 1, \"ngb-toast\", 1);\n        i0.ɵɵelementEnd()();\n    } if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !ctx.closePopup);\n    } }, directives: [i4.NgIf, i5.NgbToast], styles: [\"body[_ngcontent-%COMP%] {\\n  background: #BCBCCC;\\n}\\n\\n.card[_ngcontent-%COMP%] {\\n  width: 400px;\\n  flex-direction: column;\\n  min-width: 0;\\n  color: #fff;\\n  word-wrap: break-word;\\n  background-color: #000;\\n  background-clip: border-box;\\n  border: 1px solid #000;\\n  border-radius: 6px;\\n  box-shadow: 0px 0px 5px 0px rgb(161, 163, 164);\\n}\\n\\n.cookie[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  text-decoration: none;\\n  color: #000;\\n  margin-top: 8px;\\n  font-size: 12px;\\n}\\n\\n.cookie[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  text-decoration: none;\\n  color: #fff;\\n  margin-top: 8px;\\n}\\n\\n.decline[_ngcontent-%COMP%] {\\n  cursor: pointer;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvb2tpZS1kaWFsb2cuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLFlBQVk7RUFDWixzQkFBc0I7RUFDdEIsWUFBWTtFQUNaLFdBQVc7RUFDWCxxQkFBcUI7RUFDckIsc0JBQXNCO0VBQ3RCLDJCQUEyQjtFQUMzQixzQkFBc0I7RUFDdEIsa0JBQWtCO0VBR2xCLDhDQUE4QztBQUNoRDs7QUFFQTtFQUNFLHFCQUFxQjtFQUNyQixXQUFXO0VBQ1gsZUFBZTtFQUNmLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxxQkFBcUI7RUFDckIsV0FBVztFQUNYLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxlQUFlO0FBQ2pCIiwiZmlsZSI6ImNvb2tpZS1kaWFsb2cuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImJvZHkge1xuICBiYWNrZ3JvdW5kOiAjQkNCQ0NDO1xufVxuXG4uY2FyZCB7XG4gIHdpZHRoOiA0MDBweDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgbWluLXdpZHRoOiAwO1xuICBjb2xvcjogI2ZmZjtcbiAgd29yZC13cmFwOiBicmVhay13b3JkO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwO1xuICBiYWNrZ3JvdW5kLWNsaXA6IGJvcmRlci1ib3g7XG4gIGJvcmRlcjogMXB4IHNvbGlkICMwMDA7XG4gIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAwcHggMHB4IDVweCAwcHggcmdiKDI0OSwgMjQ5LCAyNTApO1xuICAtbW96LWJveC1zaGFkb3c6IDBweCAwcHggNXB4IDBweCByZ2JhKDIxMiwgMTgyLCAyMTIsIDEpO1xuICBib3gtc2hhZG93OiAwcHggMHB4IDVweCAwcHggcmdiKDE2MSwgMTYzLCAxNjQpO1xufVxuXG4uY29va2llIGEge1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gIGNvbG9yOiAjMDAwO1xuICBtYXJnaW4tdG9wOiA4cHg7XG4gIGZvbnQtc2l6ZTogMTJweDtcbn1cblxuLmNvb2tpZSBhIHtcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICBjb2xvcjogI2ZmZjtcbiAgbWFyZ2luLXRvcDogOHB4O1xufVxuXG4uZGVjbGluZSB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cbiJdfQ== */\"] });\n"]},"metadata":{},"sourceType":"module"}